{"version":3,"file":"main.js","sources":["js/methods/show-screen.js","js/methods/create-element.js","js/abstract-view.js","js/screens/intro/intro-data.js","js/screens/footer.js","js/screens/intro/intro-view.js","js/screens/intro/intro.js","js/screens/greeting/greeting-data.js","js/screens/greeting/greeting-view.js","js/screens/greeting/greeting.js","js/screens/rules/rules-data.js","js/screens/header.js","js/screens/rules/rules-view.js","js/screens/rules/rules.js","js/screens/stats-line.js","js/methods/get-question.js","js/screens/game/game-view.js","js/methods/get-answer.js","js/methods/check-image-sizes.js","js/methods/get-timer.js","js/screens/game/game.js","js/screens/stats/stats-data.js","js/methods/get-score.js","js/screens/stats/stats-view.js","js/loader.js","js/screens/stats/stats.js","js/application.js","js/main.js"],"sourcesContent":["const mainContainer = document.querySelector(`main.central`);\n\nexport default (screen) => {\n  mainContainer.innerHTML = ``;\n  mainContainer.appendChild(screen.element);\n};\n","export default (element) => {\n  const container = document.createElement(`div`);\n  container.innerHTML = element;\n  return container;\n};\n","import createElement from './methods/create-element';\n\nexport default class AbstractView {\n\n  get template() {\n    throw new Error(`You have to define template for view`);\n  }\n\n  render() {\n    return createElement(this.template.trim());\n  }\n\n  bind() {}\n\n  get element() {\n    if (!this._element) {\n      this._element = this.render();\n      this.bind();\n    }\n    return this._element;\n  }\n}\n","export default {\n  description: `<sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.`\n};\n","export default () => {\n  return `<footer class=\"footer\">\n    <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n    <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n    <div class=\"footer__social-links\">\n      <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n      <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n      <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n      <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n    </div>\n  </footer>`;\n};\n","import AbstractView from '../../abstract-view';\nimport data from './intro-data';\nimport getFooter from '../footer';\n\nexport default class InrtoView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `<div id=\"main\" class=\"central__content\">\n    <div id=\"intro\" class=\"intro\">\n      <h1 class=\"intro__asterisk\">*</h1>\n      <p class=\"intro__motto\">${data.description}</p>\n    </div>\n  </div>\n  ${getFooter()}`;\n  }\n\n  bind() {\n    this.element.querySelector(`.intro__asterisk`).onclick = (evt) => {\n      evt.preventDefault();\n      this.goNext();\n    };\n  }\n\n  goNext() {\n  }\n}\n\n","import showScreen from '../../methods/show-screen';\nimport App from '../../application';\nimport View from './intro-view';\n\nclass IntroScreen {\n  constructor() {\n    this.view = new View();\n  }\n\n  init() {\n    showScreen(this.view);\n    this.view.goNext = () => {\n      App.showGreeting();\n    };\n  }\n}\n\nexport default new IntroScreen();\n","export default {\n  description: `<h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n      <p>Правила игры просты.<br/>\n        Нужно отличить рисунок&nbsp;от фотографии и сделать выбор.<br/>\n        Задача кажется тривиальной, но не думай, что все так просто.<br/>\n        Фотореализм обманчив и коварен.<br/>\n        Помни, главное — смотреть очень внимательно.</p>`,\n};\n\n","import AbstractView from '../../abstract-view';\nimport data from './greeting-data';\nimport getFooter from '../footer';\n\n\nexport default class GreetingView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `<div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"/></div>\n    <h1 class=\"greeting__asterisk\">*</h1>\n    <div class=\"greeting__challenge\">${data.description}</div>\n    <div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"/></span></div>\n  </div>\n    ${getFooter()}`;\n  }\n\n  bind() {\n    this.element.querySelector(`.greeting__continue`).onclick = (evt) => {\n      evt.preventDefault();\n      this.goNext();\n    };\n  }\n\n  goNext() {\n  }\n}\n","import showScreen from '../../methods/show-screen';\nimport App from '../../application';\nimport View from './greeting-view';\n\nclass GreetingScreen {\n  constructor() {\n    this.view = new View();\n  }\n\n  init() {\n    showScreen(this.view);\n    this.view.goNext = () => {\n      App.showRules();\n    };\n  }\n}\n\nexport default new GreetingScreen();\n","export default {\n  title: `Правила`,\n  description: `Угадай 10 раз для каждого изображения фото <img\n      src=\"img/photo_icon.png\" width=\"16\" height=\"16\"/> или рисунок <img\n      src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\"/>.<br/>\n      Фотографиями или рисунками могут быть оба изображения.<br/>\n      На каждую попытку отводится 30 секунд.<br/>\n      Ошибиться можно не более 3 раз.<br/>\n      <br/>\n      Готовы?`,\n  form: {\n    placeholder: `Ваше Имя`,\n    button: `Go!`\n  }\n};\n","export default (data = []) => {\n  let strHeader = `<header class=\"header\">\n    <div class=\"header__back\">\n      <button class=\"back\">\n        <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\"/>\n        <img src=\"img/logo_small.svg\" width=\"101\" height=\"44\"/>\n      </button>\n    </div>`;\n  if (typeof (data.timer) !== `undefined`) {\n    strHeader += `<h1 class=\"game__timer\">${data.timer}</h1>`;\n  }\n  if (typeof (data.lives) !== `undefined`) {\n    strHeader += `<div class=\"game__lives\">\n    ${new Array(3 - data.lives)\n      .fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\"/>`)\n      .join(``)}\n    ${new Array(data.lives)\n      .fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\"/>`)\n      .join(``)}\n    </div>`;\n  }\n  strHeader += `</header>`;\n  return strHeader;\n};\n","import AbstractView from '../../abstract-view';\nimport data from './rules-data';\nimport getHeader from '../header';\nimport getFooter from '../footer';\n\n\nexport default class RulesView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `${getHeader()}\n<div class=\"rules\">\n    <h1 class=\"rules__title\">${data.title}</h1>\n    <p class=\"rules__description\">${data.description}</p>\n    <form class=\"rules__form\">\n      <input class=\"rules__input\" type=\"text\" placeholder=\"${data.form.placeholder}\"/>\n      <button class=\"rules__button  continue\" type=\"submit\" disabled>${data.form.button}</button>\n    </form>\n  </div>\n    ${getFooter()}`;\n  }\n\n  bind() {\n    this.element.querySelector(`.back`).onclick = (evt) => {\n      evt.preventDefault();\n      this.goBack();\n    };\n\n    this.element.querySelector(`.rules__button`).onclick = (evt) => {\n      evt.preventDefault();\n      this.goNext();\n    };\n\n    this.element.querySelector(`.rules__input`).oninput = (evt) => {\n      evt.preventDefault();\n      this.onInput(evt);\n    };\n  }\n\n  goBack() {\n  }\n\n  goNext() {\n  }\n\n  onInput() {\n  }\n}\n","import showScreen from '../../methods/show-screen';\nimport App from '../../application';\nimport View from './rules-view';\n\nclass RulesScreen {\n  constructor() {\n    this.view = new View();\n  }\n\n  init() {\n    showScreen(this.view);\n\n    const nextBtn = this.view.element.querySelector(`.rules__button`);\n    this.view.onInput = (evt) => {\n      nextBtn.disabled = evt.target.value === ``;\n    };\n\n    this.view.goNext = () => {\n      App.userName = this.view.element.querySelector(`.rules__input`).value;\n      App.showGame();\n    };\n\n    this.view.goBack = () => {\n      App.showGreeting();\n    };\n  }\n}\n\nexport default new RulesScreen();\n","export default (answers) => {\n  const answerCssClass = {\n    SLOW: `slow`,\n    NORMAL: `correct`,\n    FAST: `fast`,\n    ERROR: `wrong`,\n  };\n  let statsLine = `<ul class=\"stats\">`;\n  statsLine += answers.reduce((str, current) => str + `<li class=\"stats__result stats__result--${answerCssClass[current]}\"></li>`, ``);\n  if (answers.length < 10) {\n    const unknownAnswers = new Array(10 - answers.length).fill(`<li class=\"stats__result stats__result--unknown\"></li>`).join(``);\n    statsLine = statsLine.concat(unknownAnswers);\n  }\n  statsLine += `</ul>`;\n  return statsLine;\n};\n","export const QuestionType = {\n  GAME1: `two-of-two`,\n  GAME2: `tinder-like`,\n  GAME3: `one-of-three`,\n};\n\nexport const AnswerType = {\n  painting: `painting`,\n  photo: `photo`\n};\nAnswerType.paint = AnswerType.painting;\n\nexport const randomQuestion = (questionList) => {\n  questionList.sort(() => Math.random() - 0.5);\n  return questionList.pop();\n};\n\nconst DATA_URL = `https://es.dump.academy/pixel-hunter/questions`;\nexport const loaderQuestions = fetch(DATA_URL);\n","import AbstractView from '../../abstract-view';\n\nimport getHeader from '../header';\nimport getFooter from '../footer';\nimport stats from '../stats-line';\nimport {QuestionType, AnswerType} from '../../methods/get-question';\n\nexport default class GameView extends AbstractView {\n  constructor(question, data) {\n    super();\n    this.question = question;\n    this.data = data;\n  }\n\n  get template() {\n    let gameScreen = `${getHeader(this.data)}\n      <div class=\"game\">\n    <p class=\"game__task\">${this.question.question}</p>`;\n\n    switch (this.question.type) {\n      case QuestionType.GAME1:\n        gameScreen += `<form class=\"game__content\">`;\n        gameScreen += this.question.answers.reduce((str, current, i) => str + `\n<div class=\"game__option\">\n        <img src=\"${current.image.url}\" alt=\"Option ${i}\" width=\"${current.image.width}\" height=\"${current.image.height}\"/>\n        <label class=\"game__answer game__answer--photo\">\n          <input name=\"question${i}\" type=\"radio\" value=\"photo\"/>\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer game__answer--paint\">\n          <input name=\"question${i}\" type=\"radio\" value=\"paint\"/>\n          <span>Рисунок</span>\n        </label>\n      </div>`, ``);\n        gameScreen += `</form>`;\n        break;\n      case QuestionType.GAME2:\n        const oneImage = this.question.answers[0].image;\n        gameScreen += `\n    <form class=\"game__content  game__content--wide\">\n      <div class=\"game__option\">\n        <img src=\"${oneImage.url}\" alt=\"Option 1\" width=\"${oneImage.width}\" height=\"${oneImage.height}\"/>\n        <label class=\"game__answer  game__answer--photo\">\n          <input name=\"question1\" type=\"radio\" value=\"photo\"/>\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer  game__answer--wide  game__answer--paint\">\n          <input name=\"question1\" type=\"radio\" value=\"paint\"/>\n          <span>Рисунок</span>\n        </label>\n      </div>\n    </form>`;\n        break;\n      case QuestionType.GAME3:\n        let gameOptions = ``;\n        let isPhoto = 0;\n        this.question.answers.forEach((current, i) => {\n          gameOptions += `<div class=\"game__option\" data-option=\"${i}\">\n<img src=\"${current.image.url}\" alt=\"Option ${i}\" width=\"${current.image.width}\" height=\"${current.image.height}\"/>\n      </div>`;\n          if (current.type === AnswerType.photo) {\n            isPhoto++;\n          }\n        });\n        gameScreen += `<form class=\"game__content game__content--triple\" data-target=\"${isPhoto === 1 ? AnswerType.photo : AnswerType.painting}\">\n${gameOptions}</form>`;\n        break;\n    }\n\n    gameScreen += `<div class=\"stats\">${stats(this.data.answers)}</div>\n</div>\n${getFooter()}`;\n    return gameScreen;\n  }\n\n  bind() {\n    this.element.querySelector(`.back`).onclick = (evt) => {\n      evt.preventDefault();\n      this.goBack();\n    };\n    this.element.querySelector(`.game__content`).onclick = (evt) => {\n      this.onAnswerClick(this.element, evt);\n    };\n  }\n\n  goBack() {\n  }\n\n  onAnswerClick() {\n  }\n}\n","export default (value, time) => {\n  if (!value) {\n    return `ERROR`;\n  } else if (time > 20) {\n    return `FAST`;\n  } else if (time > 10) {\n    return `NORMAL`;\n  } else {\n    return `SLOW`;\n  }\n};\n","export const resize = (frame, given) => {\n  const image = {\n    width: given.width,\n    height: given.height,\n  };\n  if (image.height > frame.height) {\n    image.height = frame.height;\n    image.width = image.height * given.width / given.height;\n  }\n  if (image.width > frame.width) {\n    image.width = frame.width;\n    image.height = image.width * given.height / given.width;\n  }\n  return image;\n};\n\nexport default (screen) => {\n  const gameImages = screen.querySelectorAll(`.game__option`);\n  gameImages.forEach(function (item) {\n    const frameSizes = {\n      width: item.clientWidth,\n      height: item.clientHeight,\n    };\n    const imageElement = item.querySelector(`img`);\n    const image = new Image();\n    image.src = imageElement.src;\n    image.onload = function () {\n      const imageSize = {\n        width: image.width,\n        height: image.height,\n      };\n      const imageNewSize = resize(frameSizes, imageSize);\n      imageElement.width = imageNewSize.width;\n      imageElement.height = imageNewSize.height;\n    };\n  });\n};\n\n","class Timer {\n  constructor(time) {\n    this._timeLimit = time;\n    this.time = time;\n    this.message = `Время истекло`;\n  }\n\n  tick() {\n    this.time--;\n    if (this.time === 0) {\n      return this.message;\n    }\n    return this.time;\n  }\n\n  reset() {\n    this.time = this._timeLimit;\n  }\n}\n\nexport default Timer;\n","import showScreen from '../../methods/show-screen';\nimport App from '../../application';\nimport View from './game-view';\nimport {randomQuestion as getQuestion, QuestionType, AnswerType} from '../../methods/get-question';\nimport getAnswer from '../../methods/get-answer';\nimport checkImageSizes from '../../methods/check-image-sizes';\nimport Timer from '../../methods/get-timer';\n\nclass GameScreen {\n  init() {\n    this.lives = 3;\n    this.answers = [];\n    this.questions = 10;\n    this.timer = new Timer(30);\n    clearInterval(this._currTimer);\n    this._questionList = App.questionList.slice();\n    this.next();\n  }\n\n  addAnswer(answerValue) {\n    const newAnswer = getAnswer(answerValue, this.timer.time);\n    this.timer.reset();\n    clearInterval(this._currTimer);\n    this.answers.push(newAnswer);\n    this.questions--;\n    if (newAnswer === `ERROR`) {\n      this.lives--;\n    }\n  }\n\n  timeControl(screen) {\n    const timeContainer = screen.element.querySelector(`.game__timer`);\n    this._currTimer = setInterval(() => {\n      if (this.timer.time === 0) {\n        this.addAnswer(false);\n        this.next();\n      }\n      timeContainer.innerText = this.timer.tick();\n      if (this.timer.time === 5) {\n        timeContainer.classList.add(`is-animated`);\n      }\n    }, 1000);\n  }\n\n  next() {\n    if (this.questions > 0 && this.lives >= 0) {\n      const currQuestion = getQuestion(this._questionList);\n      const screen = new View(currQuestion, {lives: this.lives, answers: this.answers, timer: this.timer.time});\n      this.timeControl(screen);\n\n      showScreen(screen);\n      checkImageSizes(screen.element);\n\n      screen.goBack = () => {\n        // eslint-disable-next-line\n        if (confirm(`Вся игра будет потеряна. Уверены?`)) {\n          App.showGreeting();\n        }\n      };\n\n      screen.onAnswerClick = (element, evt) => {\n        const answerContainer = element.querySelector(`.game__content`);\n        switch (currQuestion.type) {\n          case QuestionType.GAME1:\n            const answerItems = answerContainer.querySelectorAll(`.game__answer :checked`);\n            if (answerItems.length === 2) {\n              this.addAnswer(AnswerType[answerItems[0].value] === currQuestion.answers[0].type && AnswerType[answerItems[1].value] === currQuestion.answers[1].type);\n              this.next();\n            }\n            break;\n          case QuestionType.GAME2:\n            if (evt.target.name === `question1`) {\n              this.addAnswer(currQuestion.answers[0].type === AnswerType[evt.target.value]);\n              this.next();\n            }\n            break;\n          case QuestionType.GAME3:\n            const findTarget = answerContainer.dataset.target;\n            if (evt.target.classList.contains(`game__option`)) {\n              this.addAnswer(currQuestion.answers[evt.target.dataset.option].type === findTarget);\n              this.next();\n            }\n            break;\n        }\n      };\n    } else {\n      const statsData = {\n        lives: this.lives,\n        answers: this.answers,\n      };\n      App.showStats(statsData);\n    }\n  }\n}\n\nexport default new GameScreen();\n","export default {\n  title: {\n    win: `Победа!`,\n    lost: `Поражение`\n  },\n  bonus: {\n    speed: `Бонус за скорость`,\n    lives: `Бонус за жизни`,\n    fine: `Штраф за медлительность`\n  },\n};\n","const Config = {\n  LIFE_BONUS: 50,\n  QUESTIONS_NUM: 10,\n  ANSWER_RATE: 100,\n  FAST_BONUS: 50,\n  SLOW_FINE: 50,\n};\n\nconst getScore = (answers, lives) => {\n  if (answers.length < Config.QUESTIONS_NUM) {\n    return -1;\n  }\n\n  let score = {\n    normal: 0,\n    fastBonus: 0,\n    fine: 0,\n    livesBonus: 0,\n    total: 0\n  };\n  score = answers.reduce((result, current) => {\n    if (current !== `ERROR`) {\n      result.normal += Config.ANSWER_RATE;\n      result.total += Config.ANSWER_RATE;\n\n      switch (current) {\n        case `SLOW`:\n          result.fine += Config.SLOW_FINE;\n          result.total -= Config.SLOW_FINE;\n          break;\n        case `FAST`:\n          result.fastBonus += Config.FAST_BONUS;\n          result.total += Config.FAST_BONUS;\n          break;\n      }\n    }\n    return result;\n  }, score);\n\n  score.livesBonus = lives * Config.LIFE_BONUS;\n  score.total += score.livesBonus;\n  return score;\n};\n\nexport default getScore;\n","import AbstractView from '../../abstract-view';\nimport data from './stats-data';\nimport getHeader from '../header';\nimport getFooter from '../footer';\nimport getScore from '../../methods/get-score';\nimport stats from '../stats-line';\n\n\nexport default class StatsView extends AbstractView {\n  constructor(game = {}) {\n    super();\n    this.answers = typeof game.answers === `object` ? game.answers : [];\n    this.lives = typeof game.lives === `number` ? game.lives : -1;\n  }\n\n\n  get template() {\n    return `${getHeader()}<div class=\"result\">Загрузка результатов...</div>${getFooter()}`;\n  }\n\n\n  showResults(resultsData) {\n    const lastResult = resultsData[resultsData.length - 1];\n    const isWin = lastResult.answers.length === 10 && lastResult.lives >= 0;\n    const content = resultsData.reverse().reduce((result, current, i) => {\n      if (current.answers.length === 10 && current.lives >= 0) {\n        const score = getScore(current.answers, current.lives);\n        return result + `\n<table class=\"result__table\">\n      <tr>\n        <td class=\"result__number\">${i + 1}</td>\n        <td colspan=\"2\">\n          ${stats(current.answers)}\n        </td>\n        <td class=\"result__points\">×&nbsp;100</td>\n        <td class=\"result__total\">${score.normal}</td>\n      </tr>\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">${data.bonus.speed}:</td>\n        <td class=\"result__extra\">${score.fastBonus / 50}&nbsp;<span class=\"stats__result stats__result--fast\"></span></td>\n        <td class=\"result__points\">×&nbsp;50</td>\n        <td class=\"result__total\">${score.fastBonus}</td>\n      </tr>\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">${data.bonus.lives}:</td>\n        <td class=\"result__extra\">${current.lives}&nbsp;<span class=\"stats__result stats__result--alive\"></span></td>\n        <td class=\"result__points\">×&nbsp;50</td>\n        <td class=\"result__total\">${score.livesBonus}</td>\n      </tr>\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">${data.bonus.fine}:</td>\n        <td class=\"result__extra\">${score.fine / 50}&nbsp;<span class=\"stats__result stats__result--slow\"></span></td>\n        <td class=\"result__points\">×&nbsp;50</td>\n        <td class=\"result__total\">${-score.fine}</td>\n      </tr>\n      <tr>\n        <td colspan=\"5\" class=\"result__total  result__total--final\">${score.total}</td>\n      </tr>\n      </table>\n`;\n      } else {\n        return result + `\n<table class=\"result__table\">\n      <tr>\n        <td class=\"result__number\">${i + 1}</td>\n        <td>\n          ${stats(current.answers)}\n        </td>\n        <td class=\"result__total\"></td>\n        <td class=\"result__total  result__total--final\">fail</td>\n      </tr>\n      </table>\n`;\n      }\n    }, ``);\n\n    this.resultElement.innerHTML = `<h1>${isWin ? data.title.win : data.title.lost}</h1>\n<table class=\"result__table\">${content}</table>`;\n  }\n\n  showErrorScreen() {\n    this.resultElement.innerHTML = `<h1>Не удалось загрузить данные статистики :(</h1>`;\n  }\n\n  bind() {\n    this.resultElement = this.element.querySelector(`.result`);\n\n    this.element.querySelector(`.back`).onclick = (evt) => {\n      evt.preventDefault();\n      this.goBack();\n    };\n  }\n\n\n  goBack() {\n  }\n}\n","const SERVER_URL = `https://es.dump.academy/pixel-hunter/stats/:`;\n\nexport const loadResults = (name) => {\n  return fetch(`${SERVER_URL}${name}`);\n};\n\nexport const saveResults = (data, name) => {\n  const requestSettings = {\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': `application/json`\n    },\n    method: `POST`\n  };\n  return fetch(`${SERVER_URL}${name}`, requestSettings);\n};\n","import showScreen from '../../methods/show-screen';\nimport App from '../../application';\nimport View from './stats-view';\n\nimport {loadResults} from './../../loader';\n\nclass StatsScreen {\n  init(state) {\n    this.view = new View(state);\n    showScreen(this.view);\n    this.view.goBack = () => {\n      App.showGreeting();\n    };\n\n    if (typeof App.userName !== `undefined`) {\n      loadResults(App.userName).then((response) => response.json()).then((results) => this.view.showResults(results)).catch(() => this.view.showErrorScreen());\n    } else {\n      this.view.showErrorScreen();\n    }\n  }\n}\n\nexport default new StatsScreen();\n","import introScreen from './screens/intro/intro';\nimport greetingScreen from './screens/greeting/greeting';\nimport rulesScreen from './screens/rules/rules';\nimport gameScreen from './screens/game/game';\nimport statsScreen from './screens/stats/stats';\nimport {loaderQuestions} from './methods/get-question';\nimport {saveResults} from './loader';\n\nconst ControllerId = {\n  INTRO: ``,\n  GREETING: `greeting`,\n  RULES: `rules`,\n  GAME: `game`,\n  STATS: `stats`\n};\n\nconst loadState = (dataString) => {\n  try {\n    return JSON.parse(dataString);\n  } catch (e) {\n    return ``;\n  }\n};\n\nconst routes = {\n  [ControllerId.INTRO]: introScreen,\n  [ControllerId.GREETING]: greetingScreen,\n  [ControllerId.RULES]: rulesScreen,\n  [ControllerId.GAME]: gameScreen,\n  [ControllerId.STATS]: statsScreen\n};\n\nexport default class Application {\n  static init() {\n    introScreen.init();\n    const onHashChange = () => {\n      const hashValue = location.hash.replace(`#`, ``);\n      const [id, data] = hashValue.split(`?`);\n      this.changeHash(id, data);\n    };\n    window.addEventListener(`hashchange`, onHashChange);\n\n    loaderQuestions.then((response) => {\n      if (response.ok) {\n        return response.json();\n      } else if (response.status === 404) {\n        return [];\n      }\n      throw new Error(`Неизвестный статус: ${response.status} ${response.statusText}`);\n    }).then((responseData) => {\n      this.questionList = responseData;\n      onHashChange();\n      if (location.hash.replace(`#`, ``) === ``) {\n        this.showGreeting();\n      }\n    });\n  }\n\n  static changeHash(id, data) {\n    const controller = routes[id];\n\n    if (controller) {\n      controller.init(loadState(data));\n    }\n  }\n\n  static showIntro() {\n    location.hash = ControllerId.INTRO;\n  }\n\n  static showGreeting() {\n    location.hash = ControllerId.GREETING;\n  }\n\n  static showRules() {\n    location.hash = ControllerId.RULES;\n  }\n\n  static showGame() {\n    location.hash = ControllerId.GAME;\n  }\n\n  static showStats(state) {\n    saveResults(state, this.userName).then(() => {\n      location.hash = ControllerId.STATS;\n    });\n  }\n\n}\n","import App from './application';\n\nApp.init();\n"],"names":["View","App","data","getQuestion"],"mappings":"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"}